(this["webpackJsonpcrypto-info"]=this["webpackJsonpcrypto-info"]||[]).push([[0],{438:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(53),i=a.n(c),s=a(27),o=a(227),j=a(52),l=a(36),u=a(512),d=a(56),b=a.n(d),h=a(97),x=a(15),m=function(){var e=Object(h.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://gval98.com:3001","/accessToken"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=Object(x.c)("user/getUser",function(){var e=Object(h.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=Object(x.d)({name:"user",initialState:{username:null,accessToken:null},reducers:{logOut:function(e){e.username=null,e.accessToken=null}},extraReducers:function(e){e.addCase(p.fulfilled,(function(e,t){var a=t.payload;e.username=a.username,e.accessToken=a.accessToken}))}}),g=function(e){return e.user.username},f=function(e){return e.user.accessToken},v=O.actions.logOut,y=O.reducer,k=a(494),C=a(495),w=a(497),_=a(498),T=a(499),F=a(471),I=a(1);function D(e){var t=e.username,a=e.accountButtonPath;return Object(I.jsx)(k.a,{sx:{flexGrow:1,mb:3},children:Object(I.jsx)(C.a,{position:"static",children:Object(I.jsxs)(w.a,{children:[Object(I.jsx)(_.a,{sx:{flexGrow:1,textDecoration:"none",color:"inherit"},variant:"h6",component:j.b,to:"/",children:"Crypto Info"}),Object(I.jsx)(T.a,{color:"inherit",size:"large",endIcon:Object(I.jsx)(F.a,{}),component:j.b,to:a,children:null!==t&&void 0!==t?t:"Log In"})]})})})}function S(){var e=Object(l.h)().pathname,t=Object(s.e)(g);return Object(I.jsx)(D,{username:t,accountButtonPath:t?"/account":"".concat("/"===e?"":e,"/login")})}var P=a(492),A=a(503),E=a(105),q=a(109),G=a(154),L=a(258),R=a(485),W=a(501),U=a(502),N=a(500),B=function(e){return e?"visible":"hidden"};function H(e){var t=e.loading;return Object(I.jsx)(k.a,{sx:{width:"100%",visibility:B(t)},children:Object(I.jsx)(N.a,{})})}var M=["field","form"],Q=function(e){var t=e.field,a=(e.form,Object(L.a)(e,M));return Object(I.jsx)(R.a,Object(E.a)(Object(E.a)({margin:"dense",fullWidth:!0,variant:"standard"},t),a))};function $(e){var t=e.isSubmitting,a=e.errors,n=e.touched,r=e.handleClose;return Object(I.jsxs)(q.b,{children:[Object(I.jsxs)(W.a,{children:[Object(I.jsx)(q.a,{type:"text",name:"username",label:"Username (Anything)",autoFocus:!0,error:Boolean(n.username&&a.username),helperText:n.username&&a.username,as:Q}),Object(I.jsx)(q.a,{type:"password",name:"password",label:"Password (Anything)",error:Boolean(n.password&&a.password),helperText:n.password&&a.password,as:Q}),Object(I.jsx)(H,{loading:t})]}),Object(I.jsxs)(U.a,{children:[Object(I.jsx)(T.a,{onClick:r,children:"Close"}),Object(I.jsx)(T.a,{type:"submit",disabled:t,children:"Log In"})]})]})}var z=G.a().shape({username:G.b().min(3,"Too Short!").max(10,"Too Long!").required("Required"),password:G.b().min(3,"Too Short!").max(10,"Too Long!").required("Required")});function J(e){var t=e.handleClose,a=Object(s.d)(),n=function(){var e=Object(h.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(p(n)).unwrap();case 2:t();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)(q.c,{initialValues:{username:"",password:""},validationSchema:z,onSubmit:n,children:function(e){return Object(I.jsx)($,Object(E.a)(Object(E.a)({},e),{},{handleClose:t}))}})}var V="/login";function K(){var e=function(){a.push(n)},t=Object(l.h)().pathname,a=Object(l.g)(),n=t.slice(0,t.length-V.length);return Object(I.jsx)(l.b,{path:"".concat(n).concat(V),children:Object(I.jsxs)(P.a,{open:!0,onClose:e,children:[Object(I.jsx)(A.a,{children:"Log In"}),Object(I.jsx)(J,{handleClose:e})]})})}var X=a(496),Y=a(504);function Z(){return Object(I.jsxs)(X.a,{sx:{display:"flex",justifyContent:"space-between",mt:5,p:3},variant:"outlined",children:[Object(I.jsxs)(_.a,{children:["Coins API by ",Object(I.jsx)(Y.a,{href:"https://www.coingecko.com/",children:"CoinGecko"})]}),Object(I.jsxs)(_.a,{children:["Developed by ",Object(I.jsx)(Y.a,{href:"https://t.me/GVal98/",children:"GVal98"})]})]})}var ee=a(144),te=a(47),ae=Object(ee.a)({reducerPath:"favoritesAPI",baseQuery:Object(te.d)({baseUrl:"".concat("https://gval98.com:3001","/")}),tagTypes:["favorites"],endpoints:function(e){return{getFavorites:e.query({query:function(e){return{url:"favorites/",headers:{accessToken:e}}},providesTags:["favorites"]}),addFavorite:e.mutation({query:function(e){var t=e.accessToken,a=e.tokenId;return{url:"favorites/".concat(a),method:"POST",headers:{accessToken:t}}},invalidatesTags:["favorites"]}),removeFavorite:e.mutation({query:function(e){var t=e.accessToken,a=e.tokenId;return{url:"favorites/".concat(a),method:"DELETE",headers:{accessToken:t}}},invalidatesTags:["favorites"]})}}}),ne=ae.useGetFavoritesQuery,re=ae.useAddFavoriteMutation,ce=ae.useRemoveFavoriteMutation,ie=Object(ee.a)({reducerPath:"coinsAPI",baseQuery:Object(te.d)({baseUrl:"https://api.coingecko.com/api/v3/"}),endpoints:function(e){return{getCoins:e.query({query:function(e){return{url:"coins/markets/",params:{vs_currency:"usd",per_page:20,page:e,price_change_percentage:"24h"}}}}),getCoinInfo:e.query({query:function(e){return{url:"coins/".concat(e),params:{localization:"false",tickers:!1,market_data:!0,community_data:!1,developer_data:!1}}}}),getCoinHistory:e.query({query:function(e){return{url:"coins/".concat(e,"/market_chart"),params:{vs_currency:"usd",days:"365"}}}})}}}),se=ie.useGetCoinsQuery,oe=ie.useGetCoinInfoQuery,je=ie.useGetCoinHistoryQuery,le=a(509),ue=a(510),de=a(511),be=a(505),he=a(506),xe=a(507);function me(){return Object(I.jsx)(be.a,{children:Object(I.jsxs)(he.a,{children:[Object(I.jsx)(xe.a,{children:"#"}),Object(I.jsx)(xe.a,{children:"Coin"}),Object(I.jsx)(xe.a,{}),Object(I.jsx)(xe.a,{align:"right",children:"Price"}),Object(I.jsx)(xe.a,{align:"right",children:"24h"}),Object(I.jsx)(xe.a,{align:"right",children:"Market Cap"})]})})}var pe=a(13),Oe=a(508),ge=a(477),fe=a(478),ve=a(493),ye={width:25,height:25,display:"inline-block",verticalAlign:"middle"},ke={display:"inline-block",verticalAlign:"middle",ml:2,color:"black"},Ce={display:"inline-block",verticalAlign:"middle",ml:2,fontWeight:"light",color:"black"};function we(e){var t=e.linkTo,a=e.image,n=e.name,r=e.symbol;return Object(I.jsx)(xe.a,{sx:{whiteSpace:"nowrap"},children:Object(I.jsxs)(j.b,{to:t,children:[Object(I.jsx)(ve.a,{sx:ye,src:a}),Object(I.jsx)(k.a,{sx:ke,children:n}),Object(I.jsx)(k.a,{sx:Ce,children:r.toUpperCase()})]})})}var _e=function(e){return{pathname:"/coin/".concat(e.id),state:{name:e.name,image:e.image,symbol:e.symbol,price:e.current_price,change24h:e.price_change_percentage_24h,marketCap:e.market_cap,marketCapRank:e.market_cap_rank}}};function Te(e){var t=e.coinData;return Object(I.jsx)(we,{linkTo:_e(t),name:t.name,image:t.image,symbol:t.symbol})}function Fe(e){return e>0?"success.main":"error.main"}function Ie(e){var t=e.change;return Object(I.jsxs)(xe.a,{sx:{color:Fe(t)},align:"right",children:[t.toFixed(1),"%"]})}var De={"&:last-child td, &:last-child th":{border:0},textDecoration:"none"};function Se(e){var t=e.coinData,a=e.isFavorite,n=e.addToFavorites;return Object(I.jsxs)(he.a,{sx:De,children:[Object(I.jsx)(xe.a,{component:"th",scope:"row",children:t.market_cap_rank}),Object(I.jsx)(Te,{coinData:t}),Object(I.jsx)(xe.a,{children:Object(I.jsx)(Oe.a,{onClick:n,children:a?Object(I.jsx)(ge.a,{color:"error"}):Object(I.jsx)(fe.a,{})})}),Object(I.jsxs)(xe.a,{align:"right",children:["$",t.current_price]}),Object(I.jsx)(Ie,{change:t.price_change_percentage_24h}),Object(I.jsxs)(xe.a,{align:"right",children:["$",t.market_cap.toLocaleString("en-US")]})]})}function Pe(e){var t=e.coinData,a=e.isFavorite,n=re(),r=Object(pe.a)(n,1)[0],c=ce(),i=Object(pe.a)(c,1)[0],o=Object(s.e)(f),j=Object(l.g)();return Object(I.jsx)(Se,{coinData:t,isFavorite:a,addToFavorites:function(){if(o)a?i({accessToken:o,tokenId:t.id}):r({accessToken:o,tokenId:t.id});else{var e=j.location.pathname;j.push("".concat("/"===e?"":e,"/login"))}}})}function Ae(e){var t=e.coinsArray,a=e.favorites;return Object(I.jsx)(le.a,{component:X.a,children:Object(I.jsxs)(ue.a,{children:[Object(I.jsx)(me,{}),Object(I.jsx)(de.a,{children:t.map((function(e){return Object(I.jsx)(Pe,{coinData:e,isFavorite:a.includes(e.id)},e.id)}))})]})})}var Ee=a(487),qe={mt:2,display:"flex",justifyContent:"center"};function Ge(e){var t=e.pageNumber,a=Object(l.g)();return Object(I.jsx)(Ee.a,{sx:qe,count:10,hidePrevButton:!0,hideNextButton:!0,page:+t,onChange:function(e,t){return function(e){e&&(a.push("/".concat(e)),window.scrollTo(0,0))}(t)}})}function Le(e){var t=e.coinsArray,a=e.isFetching,n=e.isError,r=e.favorites,c=e.pageNumber;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(H,{loading:a}),Object(I.jsx)(_.a,{sx:{mb:1},variant:"h4",component:"h1",children:"Cryptocurrency List"}),n&&"Error",t&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Ae,{coinsArray:t,favorites:r}),Object(I.jsx)(Ge,{pageNumber:c})]})]})}function Re(){var e=Object(l.i)().pageNumber||1,t=se(e),a=t.data,n=t.isError,r=t.isFetching,c=Object(s.e)(f),i=ne(c,{skip:!c}).data;return Object(I.jsx)(Le,{coinsArray:a,isFetching:r,isError:n,favorites:i||[],pageNumber:e})}var We=function(e){var t=e.src;return Object(I.jsx)(ve.a,{sx:{width:50,height:50,display:"inline-block",mr:1},src:t})},Ue=function(e){var t=e.name;return Object(I.jsx)(_.a,{sx:{display:"inline-block",mr:1},variant:"h4",component:"h1",children:t})},Ne=function(e){var t=e.symbol;return Object(I.jsx)(_.a,{sx:{display:"inline-block",fontWeight:"light",mr:5},variant:"h6",component:"div",children:t.toUpperCase()})},Be=function(e){var t=e.price;return Object(I.jsxs)(_.a,{sx:{display:"inline-block",mr:1},variant:"h6",component:"div",children:["$",t]})},He=function(e){var t=e.change24h;return Object(I.jsxs)(_.a,{sx:{display:"inline-block",mr:5,color:Fe(t)},variant:"body2",component:"div",children:[t.toFixed(1),"%"]})},Me=function(e){var t=e.marketCap;return Object(I.jsxs)(_.a,{sx:{display:"inline-block",mr:1},variant:"h6",component:"div",children:["$",t.toLocaleString("en-US")]})},Qe=function(e){var t=e.marketCapRank;return Object(I.jsxs)(_.a,{sx:{display:"inline-block"},variant:"body2",component:"div",children:["#",t]})},$e=function(e){var t=e.image,a=e.name,n=e.symbol;return Object(I.jsxs)(k.a,{sx:{display:"flex",alignItems:"center"},children:[Object(I.jsx)(We,{src:t}),Object(I.jsxs)(k.a,{sx:{display:"flex",alignItems:"baseline"},children:[Object(I.jsx)(Ue,{name:a}),Object(I.jsx)(Ne,{symbol:n})]})]})},ze=function(e){var t=e.price,a=e.change24h;return Object(I.jsxs)(k.a,{sx:{display:"flex",alignItems:"baseline"},children:[Object(I.jsx)(Be,{price:t}),Object(I.jsx)(He,{change24h:a})]})},Je=function(e){var t=e.marketCap,a=e.marketCapRank;return Object(I.jsxs)(k.a,{sx:{display:"flex",alignItems:"baseline"},children:[Object(I.jsx)(Me,{marketCap:t}),Object(I.jsx)(Qe,{marketCapRank:a})]})};function Ve(e){var t=e.coinData,a=t.name,n=t.image,r=t.symbol,c=t.price,i=t.change24h,s=t.marketCap,o=t.marketCapRank;return Object(I.jsxs)(k.a,{sx:{display:"flex",alignItems:"center",mb:3,flexWrap:"wrap"},children:[Object(I.jsx)($e,{image:n,name:a,symbol:r}),Object(I.jsxs)(k.a,{sx:{display:"flex",alignItems:"baseline",mt:1,flexWrap:"wrap"},children:[Object(I.jsx)(ze,{price:c,change24h:i}),Object(I.jsx)(Je,{marketCap:s,marketCapRank:o})]})]})}var Ke=a(479),Xe=a(480),Ye=a(484),Ze=a(252),et=a(253),tt=a(128),at=a(257),nt=function(e){return new Date(e).toLocaleDateString()},rt=function(e){return["$".concat(+e.toPrecision(5)),"Price"]};function ct(e){var t=e.prices;return Object(I.jsx)(Ke.a,{width:"100%",height:"100%",children:Object(I.jsxs)(Xe.a,{fontFamily:"Roboto, sans-serif",fontSize:14,data:t,margin:{top:5,right:0,left:0,bottom:5},children:[Object(I.jsx)(Ye.a,{strokeDasharray:"3 3"}),Object(I.jsx)(Ze.a,{dataKey:"date",minTickGap:"1",tickFormatter:nt}),Object(I.jsx)(et.a,{tickFormatter:function(e){return"$".concat(e)}}),Object(I.jsx)(tt.a,{contentStyle:{fontFamily:"Roboto, sans-serif"},formatter:rt,labelFormatter:nt}),Object(I.jsx)(at.a,{type:"monotone",dataKey:"price",dot:"",strokeWidth:2,stroke:"#42a5f5"})]})})}var it=function(e){return e.prices.map((function(e){return{date:e[0],price:e[1]}}))};function st(e){var t=e.coinId,a=je(t),n=a.data,r=a.isError,c=a.isFetching;return Object(I.jsxs)(k.a,{height:"400px",children:[r&&"Error",Object(I.jsx)(H,{loading:c}),n&&Object(I.jsx)(ct,{prices:it(n)})]})}var ot={"&:last-child td, &:last-child th":{border:0},textDecoration:"none"};function jt(e){var t=e.name,a=e.value;return Object(I.jsxs)(he.a,{sx:ot,children:[Object(I.jsx)(xe.a,{component:"th",scope:"row",children:t}),Object(I.jsx)(xe.a,{align:"right",sx:{fontWeight:"medium"},children:a})]})}var lt=function(e,t){return"".concat(Math.round(e)||"Infinity"," ").concat(t)};function ut(e){var t,a=e.coinData,n=a.symbol.toUpperCase(),r=Object(I.jsx)(Y.a,{href:a.homePage,children:a.homePage});return Object(I.jsx)(le.a,{component:X.a,children:Object(I.jsx)(ue.a,{children:Object(I.jsxs)(de.a,{children:[Object(I.jsx)(jt,{name:"Category",value:a.category}),Object(I.jsx)(jt,{name:"Home Page",value:r}),Object(I.jsx)(jt,{name:"Circulating Supply",value:lt(a.circulatingSupply,n)}),Object(I.jsx)(jt,{name:"Max Supply",value:lt(a.maxSupply,n)}),Object(I.jsx)(jt,{name:"All Time High",value:"".concat(a.ath," ").concat(n)}),Object(I.jsx)(jt,{name:"ATH Date",value:(t=a.athDate,new Date(t).toLocaleDateString())}),Object(I.jsx)(jt,{name:"ATH Change",value:"".concat(a.athChange.toFixed(2),"%")})]})})})}var dt={display:"flex",justifyContent:"space-between",flexDirection:{xs:"column-reverse",md:"row"}},bt={flexGrow:1,flexShrink:1,minWidth:"300px",mr:{xs:0,md:3}},ht={flexShrink:0,flexGrow:0,minWidth:"300px",mb:2};function xt(e){var t=e.coinId,a=e.cachedData,n=e.coinData,r=e.isError,c=e.isFetching,i=n||a;return Object(I.jsxs)(I.Fragment,{children:[r&&"Error",Object(I.jsx)(H,{loading:c}),i&&Object(I.jsx)(Ve,{coinData:i}),Object(I.jsxs)(u.a,{disableGutters:!0,maxWidth:"lg",sx:dt,children:[Object(I.jsxs)(k.a,{sx:bt,children:[Object(I.jsx)(_.a,{variant:"h5",component:"h2",children:"Annual price chart"}),Object(I.jsx)(st,{coinId:t})]}),Object(I.jsxs)(k.a,{sx:ht,children:[Object(I.jsx)(_.a,{variant:"h5",component:"h2",children:"Info"}),r&&"Error",Object(I.jsx)(H,{loading:c}),n&&Object(I.jsx)(ut,{coinData:n})]})]})]})}var mt=function(e){return{name:e.name,image:e.image.large,symbol:e.symbol,price:e.market_data.current_price.usd,change24h:e.market_data.price_change_percentage_24h,marketCap:e.market_data.market_cap.usd,marketCapRank:e.market_cap_rank,category:e.categories[0],homePage:e.links.homepage[0],circulatingSupply:e.market_data.circulating_supply,maxSupply:e.market_data.max_supply,ath:e.market_data.ath.usd,athDate:e.market_data.ath_date.usd,athChange:e.market_data.ath_change_percentage.usd}};function pt(){var e=Object(l.i)().coinId,t=Object(l.h)().state,a=oe(e),n=a.data,r=a.isError,c=a.isFetching;return Object(I.jsx)(xt,{coinId:e,cachedData:t,coinData:n&&mt(n),isError:r,isFetching:c})}var Ot=a(513),gt=a(514),ft=a(515);function vt(e){var t=e.username,a=e.favoritesCount,n=e.handleLogout;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(_.a,{sx:{mb:3},variant:"h4",component:"h1",children:"Account"}),Object(I.jsxs)(Ot.a,{sx:{minWidth:275},children:[Object(I.jsxs)(gt.a,{children:[Object(I.jsx)(_.a,{variant:"body2",children:"Username"}),Object(I.jsx)(_.a,{sx:{mb:2},variant:"h5",children:t}),Object(I.jsx)(_.a,{variant:"body2",children:"Favorites count"}),Object(I.jsx)(_.a,{variant:"h5",children:a})]}),Object(I.jsx)(ft.a,{children:Object(I.jsx)(T.a,{onClick:n,children:"Log Out"})})]})]})}function yt(){var e=Object(s.d)(),t=Object(s.e)(g),a=Object(s.e)(f),n=ne(a).data;return Object(I.jsx)(vt,{username:t,favoritesCount:n&&n.length,handleLogout:function(){return e(v())}})}function kt(){var e=Object(s.e)(g);return Object(I.jsx)(j.a,{basename:"/cryptoInfo",children:Object(I.jsxs)(u.a,{maxWidth:"lg",disableGutters:!0,children:[Object(I.jsx)(K,{}),Object(I.jsx)(S,{}),Object(I.jsxs)(l.d,{children:[Object(I.jsx)(l.b,{path:"/:pageNumber(\\d+)",children:Object(I.jsx)(Re,{})}),Object(I.jsx)(l.b,{path:"/coin/:coinId",children:Object(I.jsx)(pt,{})}),Object(I.jsx)(l.b,{path:"/account",children:e?Object(I.jsx)(yt,{}):Object(I.jsx)(l.a,{to:"/"})}),Object(I.jsx)(l.b,{path:"/",children:Object(I.jsx)(Re,{})}),Object(I.jsx)(l.b,{path:"*",children:"Not Found"})]}),Object(I.jsx)(Z,{})]})})}var Ct,wt=a(7),_t=a(40),Tt=a(77),Ft=a(254),It={key:"root",storage:a.n(Ft).a,whitelist:["user"]},Dt=Object(_t.b)((Ct={},Object(wt.a)(Ct,ie.reducerPath,ie.reducer),Object(wt.a)(Ct,ae.reducerPath,ae.reducer),Object(wt.a)(Ct,"user",y),Ct)),St=Object(Tt.g)(It,Dt),Pt=Object(x.a)({reducer:St,middleware:function(e){return e({serializableCheck:{ignoredActions:[Tt.a,Tt.f,Tt.b,Tt.c,Tt.d,Tt.e]}}).concat(ie.middleware).concat(ae.middleware)}}),At=Object(Tt.h)(Pt);Object(te.e)(Pt.dispatch);var Et=Pt;a(434),a(435),a(436),a(437);i.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(s.a,{store:Et,children:Object(I.jsx)(o.a,{persistor:At,children:Object(I.jsx)(kt,{})})})}),document.getElementById("root"))}},[[438,1,2]]]);
//# sourceMappingURL=main.0acb2ece.chunk.js.map